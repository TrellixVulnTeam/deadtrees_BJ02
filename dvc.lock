schema: '2.0'
stages:
  createtiles:
    cmd: mkdir data/processed; gdal_retile.py  -csv locations.csv  -v -ps 8192 8192
      -co "TILED=YES" -co "COMPRESS=LZW"  -targetDir data/processed  data/raw/tif_ortho_2019.tif
    deps:
    - path: data/raw/tif_ortho_2019.tif
      md5: f29b9345665f25e7465eafa3bd6f2f49
      size: 353002145755
    params:
      params.yaml:
        createtiles.size: 8192
    outs:
    - path: data/processed
      md5: 00a42f0155c9fb5bc3f5bb1a93156647.dir
      size: 169237483862
      nfiles: 1837
  createmasks:
    cmd: python createmasks.py data/processed data/processed.masks data/raw/dead_treed_proj.shp
    deps:
    - path: data/processed
      md5: 00a42f0155c9fb5bc3f5bb1a93156647.dir
      size: 169237483862
      nfiles: 1837
    - path: data/raw/dead_treed_proj.dbf
      md5: bdd8cf66420982fa5732ce0123ba52dc
      size: 162512
    - path: data/raw/dead_treed_proj.prj
      md5: 800897f6385d09a99ee62978930f07fe
      size: 436
    - path: data/raw/dead_treed_proj.shp
      md5: 2389ce8034d1c6f3955ecf7bd4b5f109
      size: 2160036
    - path: data/raw/dead_treed_proj.shx
      md5: f2e5b8e7338cf8848fa4518c9b65a595
      size: 61972
    outs:
    - path: data/processed.masks
      md5: 8edf67f80f26d5518fc3e8bd7fc48ccd.dir
      size: 1476585682
      nfiles: 22
  createdataset:
    cmd: mkdir data/dataset;  touch data/dataset/dummy
    deps:
    - path: data/processed
      md5: 00a42f0155c9fb5bc3f5bb1a93156647.dir
      size: 169237483862
      nfiles: 1837
    - path: data/processed.masks
      md5: 8edf67f80f26d5518fc3e8bd7fc48ccd.dir
      size: 1476585682
      nfiles: 22
    outs:
    - path: data/dataset
      md5: 3ef2a6c7127e8a897215c0180457149a.dir
      size: 0
      nfiles: 1
